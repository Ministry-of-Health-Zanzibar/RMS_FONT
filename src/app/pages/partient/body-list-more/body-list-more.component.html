<div *ngIf="patients" class="max-w-7xl mx-auto p-6">
  <!-- Banner Header -->
  <div class="relative bg-gradient-to-r from-blue-700 to-blue-500 text-white rounded-2xl shadow-lg p-10 mb-8 flex items-center justify-center overflow-hidden">

    <!-- Left AI Image -->
    <img src="../../../../assets/img/doctor.png"
         alt="AI Left"
         class="absolute left-4 top-1/2 transform -translate-y-1/2 w-28 h-28 opacity-80 rounded-full shadow-lg">

    <!-- Center Text -->
    <div class="text-center z-10">
      <h1 class="text-4xl font-bold tracking-wide drop-shadow-md">Patient Records</h1>
      <p class="mt-3 text-lg opacity-90">A complete list of registered patients and their details</p>
    </div>

    <!-- Right AI Image -->
    <img src="../../../../assets/img/objective3.png"
         alt="AI Right"
         class="absolute right-4 top-1/2 transform -translate-y-1/2 w-28 h-28 opacity-80 rounded-full shadow-lg">

  </div>



  <!-- Patient List Info Table -->
<div *ngIf="patientListInfo" class="bg-white shadow-xl rounded-2xl overflow-hidden">
  <table class="w-full table-auto border-collapse">
    <thead class="bg-gray-200 text-gray-700">
      <tr>
        <th class="border border-gray-300 p-3">Patient List Title</th>
        <th class="border border-gray-300 p-3">Patient List File</th>
         <th class="border border-gray-300 p-3">Add Patient (+)</th>

      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="border border-gray-300 p-3 font-medium text-gray-700">
          {{ patientListInfo.title }}
        </td>
        <td class="border border-gray-300 p-3">
           <a [href]="'http://127.0.0.1:8000/storage/' + patientListInfo.file"
               target="_blank"
               class="inline-flex items-center gap-1 text-indigo-600 hover:text-indigo-800">
              <mat-icon>picture_as_pdf</mat-icon>
              View PDF
            </a>
        </td>
        <td>
           <span
                (click)="getPatient(patientListInfo.id)"
                  *ngIf="permission.parmissionMatched(['View Patient List'])"
                  matTooltip="Add Insurances"
                 class="cursor-pointer w-10 h-10 flex items-center justify-center text-white bg-blue-600 rounded-full hover:bg-blue-700 transition-all"
       >
                 <mat-icon>add_patient</mat-icon>
              </span>
        </td>

      </tr>
    </tbody>
  </table>
</div>

  <!-- Patient Table -->
  <div class="bg-white shadow-xl rounded-2xl overflow-hidden">
    <table *ngIf="patients.data && patients.data.length > 0; else noPatients"
         class="table-auto w-full border-collapse border border-gray-300 shadow-md rounded-lg overflow-hidden">

    <thead class="bg-gray-100">
      <tr>
        <th class="border border-gray-300 p-2 text-center">#</th>
        <th class="border border-gray-300 p-2">Name</th>
         <th class="border border-gray-300 p-2">Gender</th>
         <th class="border border-gray-300 p-2">Phone</th>
        <th class="border border-gray-300 p-2">Date of Birth</th>
        <th class="border border-gray-300 p-2">Address</th>


      </tr>
    </thead>

    <tbody>
      <tr *ngFor="let patient of patients.data; let i = index;" class="hover:bg-gray-50">
        <td class="border border-gray-300 p-2 text-center">{{ i + 1 }}</td>
        <td class="border border-gray-300 p-2 font-medium text-gray-700">{{ patient.name | uppercase }}</td>
         <td class="border border-gray-300 p-2">{{ patient.gender | uppercase}}</td>
          <td class="border border-gray-300 p-2">{{ patient.phone || '-' }}</td>
        <td class="border border-gray-300 p-2">{{ patient.date_of_birth }}</td>
        <td class="border border-gray-300 p-2">{{ patient.location | uppercase}}</td>
      </tr>
    </tbody>
  </table>

  <!-- Empty Message -->
  <ng-template #noPatients>
    <div class="text-center text-gray-500 p-6 bg-gray-50 rounded-lg shadow-md">
      No patient records available.
    </div>
  </ng-template>

</div>
</div>


