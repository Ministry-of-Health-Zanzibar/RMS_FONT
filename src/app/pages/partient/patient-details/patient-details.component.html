<div class="p-6 max-w-6xl mx-auto space-y-8">
  <mat-card class="shadow-lg rounded-2xl p-6" *ngIf="patient">
    <mat-card-header>
      <mat-card-title class="text-2xl font-bold text-gray-800">
        Patient Information
      </mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="overflow-x-auto mt-4">
        <table
          mat-table
          [dataSource]="[patient]"
          class="mat-elevation-z8 w-full"
        >
          <ng-container matColumnDef="matibabu_card">
            <th mat-header-cell *matHeaderCellDef>Matibabu Card</th>
            <td mat-cell *matCellDef="let p">{{ p.matibabu_card || "N/A" }}</td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef>Name</th>
            <td mat-cell *matCellDef="let p">{{ p.name }}</td>
          </ng-container>

          <ng-container matColumnDef="date_of_birth">
            <th mat-header-cell *matHeaderCellDef>DOB</th>
            <td mat-cell *matCellDef="let p">{{ p.date_of_birth | date }}</td>
          </ng-container>

          <ng-container matColumnDef="gender">
            <th mat-header-cell *matHeaderCellDef>Gender</th>
            <td mat-cell *matCellDef="let p">{{ p.gender }}</td>
          </ng-container>

          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>Contact</th>
            <td mat-cell *matCellDef="let p">{{ p.phone }}</td>
          </ng-container>

          <ng-container matColumnDef="location">
            <th mat-header-cell *matHeaderCellDef>Location</th>
            <td mat-cell *matCellDef="let p">{{ p.location }}</td>
          </ng-container>

          <ng-container matColumnDef="zan_id">
            <th mat-header-cell *matHeaderCellDef>ZAN ID</th>
            <td mat-cell *matCellDef="let p">{{ p.zan_id || "N/A" }}</td>
          </ng-container>

          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef class="text-center">
              Actions
            </th>
            <td mat-cell *matCellDef="let p" class="text-center">
              <span
                (click)="openAddMedicalHistory(p)"
                matTooltip="Add patient history"
                class="cursor-pointer w-10 h-10 flex items-center justify-center text-white bg-blue-600 rounded-full hover:bg-blue-700 transition-all mx-auto"
              >
                <mat-icon>person_add</mat-icon>
              </span>
            </td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="[
              'matibabu_card',
              'name',
              'date_of_birth',
              'gender',
              'phone',
              'location',
              'zan_id',
              'actions'
            ]"
          ></tr>
          <tr
            mat-row
            *matRowDef="
              let row;
              columns: [
                'matibabu_card',
                'name',
                'date_of_birth',
                'gender',
                'phone',
                'location',
                'zan_id',
                'actions'
              ]
            "
          ></tr>
        </table>
      </div>
    </mat-card-content>
  </mat-card>
</div>
