<div class="p-6 bg-white rounded-2xl shadow-lg w-[800px] max-w-full mx-auto border border-gray-100">
  <h2 class="text-2xl font-bold text-center text-emerald-700 mb-6 uppercase tracking-wide">
    Add Medical History
  </h2>

  <form [formGroup]="patientForm" (ngSubmit)="onSubmit()" class="space-y-5">
    <p class="text-sm text-gray-500 mb-2">
      Patient List ID: <span class="font-semibold text-gray-700">{{ patientForm.get('patient_list_id')?.value }}</span>
    </p>

    <mat-form-field appearance="outline" class="w-full">
      <mat-label>Select Patient(s)</mat-label>
      <mat-select formControlName="patient_ids" multiple>
        <mat-option *ngFor="let patient of patients" [value]="patient.patient_id">
          {{ patient.name }} - {{ patient.phone }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Buttons -->
    <div class="flex justify-end items-center gap-3 pt-4">
      <button
        mat-stroked-button
        type="button"
        color="warn"
        (click)="onCancel()"
        [disabled]="loading"
      >
        Cancel
      </button>

      <button
        *ngIf="!loading"
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="patientForm.invalid"
      >
        Save
      </button>

      <mat-progress-spinner
        *ngIf="loading"
        diameter="26"
        mode="indeterminate"
      ></mat-progress-spinner>
    </div>
  </form>
</div>
